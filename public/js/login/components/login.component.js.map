{"version":3,"sources":["login/components/login.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA4DA;gBAOE,oCAAoC;gBAChC,wBACY,YAA0B,EAC1B,MAAc,EACd,EAAgB;oBAFhB,iBAAY,GAAZ,YAAY,CAAc;oBAC1B,WAAM,GAAN,MAAM,CAAQ;oBACd,OAAE,GAAF,EAAE,CAAc;oBAThC,UAAK,GAAG,KAAK,CAAC;oBAId,WAAM,GAAG,KAAK,CAAC;gBAML,CAAC;gBAEP,oCAAW,GAAX,UAAY,MAAM;oBAAlB,iBAwBM;oBAvBE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACpB,IAAI,OAAO,GAAG,IAAI,CAAC;oBACnB,2DAA2D;oBAC3D,IAAI,cAA8B,CAAC;oBACnC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBACjD,cAAc,CAAC,SAAS,CACtB,UAAA,GAAG;wBACD,EAAE,CAAA,CAAC,GAAG,CAAC,UAAU,IAAI,IAAI,CAAC,CAAA,CAAC;4BACzB,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BAChC,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACnB,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACtC,CAAC;wBACD,IAAI,CAAA,CAAC;4BACH,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;4BACpB,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;4BAClB,KAAI,CAAC,OAAO,GAAG,0BAA0B,CAAA;4BACzC,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;4BACnB,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;wBAClB,CAAC;oBACF,CAAC,EACF,UAAA,GAAG,IAAM,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA,CAAC,CAAC,CAE7B,CAAC;gBACH,CAAC;gBACD,iCAAQ,GAAR;oBACE,EAAE,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC/B,2BAA2B;wBAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACpC,CAAC;gBACH,CAAC;gBAjGZ;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,OAAO;wBACjB,QAAQ,EACR,wsEA+CC;qBAEJ,CAAC;;kCAAA;gBA8CF,qBAAC;YAAD,CA7CA,AA6CC,IAAA;YA7CD,2CA6CC,CAAA","file":"login/components/login.component.js","sourcesContent":["import {Component, EventEmitter, Input, OnChanges, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs/Rx';\nimport { LoginService } from '../services/login.service';\nimport { Login } from '../model/login'\nimport {Router} from '@angular/router';\nimport {SharedService} from '../../SharedService';\n\n@Component({\n    selector: 'login',\n    template:\n    `\n    <div class=\"loader\" *ngIf=\"loader\">\n        <img src=\"../images/loader-img.gif\" alt=\"\" />\n    </div>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-md-8 col-md-offset-2\">\n                <div class=\"panel panel-default\">\n                    <div class=\"panel-heading\">Login</div>\n                    <div class=\"panel-body\">\n\n                        <form #form=\"ngForm\" class=\"form-horizontal\" (ngSubmit)=\"submitLogin(form.value)\">\n\n                          <input id=\"token\" type=\"hidden\"  name=\"_token\" value=\"<?php echo csrf_token(); ?>\" >\n                            <div class=\"form-group\">\n                                <label for=\"email\" class=\"col-md-4 control-label\">E-Mail Address</label>\n\n                                <div class=\"col-md-6\">\n                                    <input id=\"email\" type=\"email\" class=\"form-control\" name=\"email\" [(ngModel)]=\"email\">\n                                </div>\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"password\" class=\"col-md-4 control-label\">Password</label>\n\n                                <div class=\"col-md-6\">\n                                    <input id=\"password\" type=\"password\" class=\"form-control\" name=\"password\" [(ngModel)]=\"password\">\n                                </div>\n                            </div>\n\n\n                            <div class=\"form-group\">\n                                <div class=\"col-md-6 col-md-offset-4\">\n                                    <button type=\"submit\" class=\"btn btn-primary\">\n                                        <i class=\"fa fa-btn fa-sign-in\"></i> Login\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                        <div class=\"alert alert-danger\" *ngIf=\"error\">\n                          <strong>{{message}}</strong>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    `\n\n})\nexport class LoginComponent implements OnInit{\n  data : any;\n  error = false;\n  message:string;\n  password:string;\n  email:string;\n  loader = false;\n  // Constructor with injected service\n      constructor(\n          private loginService: LoginService,\n          private router: Router,\n          private ss:SharedService\n          ){}\n\n      submitLogin(values){\n              this.loader = true;\n             var current = this;\n             // Variable to hold a reference of addComment/updateComment\n             let loginOperation:Observable<any>;\n             loginOperation = this.loginService.Login(values);\n             loginOperation.subscribe(\n               res => {\n                 if(res.isLoggedIn == true){\n                   this.ss.setUserDetail(res.user);\n                   this.loader = false;\n                    current.router.navigate(['/home']);\n                 }\n                 else{\n                   this.loader = false;\n                   this.error = true;\n                   this.message = 'Wrong email or password!'\n                   this.password = '';\n                   this.email = '';\n                 }\n                },\n               err => { console.log(err) }\n\n            );\n           }\n           ngOnInit(){\n             if (localStorage.getItem('user')) {\n                 // logged in so return true\n                 this.router.navigate(['/home']);\n             }\n           }\n}\n"],"sourceRoot":"/source/"}